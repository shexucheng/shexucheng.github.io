<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Tab选项卡</title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
				color: #fff;
			}
		  .nav{
			  width: 100%;
			  height:65px;
			  background: #FFFFFF;
			  border-bottom: 1px solid #ccc;
			  list-style: none;
			  display: flex;
			  position: relative;
			  z-index: 1;
			  justify-content: center;
			  box-shadow: 0px 2px  5px 0px rgba(0,0,0,.5);
		  }
		  .nav li{
			  font-size: 1.6rem;
			  margin:0 35px;
			  color: #000;
		  }
		  .box{
			  width: 100%;
			  height: calc(100vh - 50px);
			  background:slateblue;
			  overflow: hidden;
		  }
		  .box .max{
			  width: calc(100% * 3);
			  height: 100%;
			  overflow: hidden;
			  display: flex;
		  }
		  .max div{
			  width:calc(100% / 3) ;
			  height: 100%;
			  margin-left:0 ;
			  position: relative;
		  }
		  .max div h1{
			  position: absolute;
			  left: 50%;
			  top: 30%;
			  letter-spacing: 10px;
		  }
		  .max div:nth-child(1){
			  background: #6495ED;
		  }
		  .max div:nth-child(2){
		  	 background: darkcyan;
		  }
		  .max div:nth-child(3){
		  	 background: hotpink;
		  }
		</style>
	</head>
	<body>
		<ul class="nav">
			<li>首页</li>
			<li>商场</li>
			<li>我的</li>
		</ul>
		<div class="box">
			<div class="max">
				<div><h1>首页</h1></div>
				<div><h1>商城</h1></div>
				<div><h1>我的</h1></div>
			</div>
		</div>
		<script type="text/javascript">
		   let box = document.querySelector('.box'),
		       max = document.querySelector('.max'),
			   target = max.offsetLeft,
			   offwid = box.offsetWidth,
			   playMove = false;
			   index = 0,
			   startX = 0,
			   moveX = 0;
			
			box.addEventListener('touchstart',function(e){
				
				//获取初识坐标
				startX = e.targetTouches[0].pageX;
				
				//和初识位置
				target = max.offsetLeft;
				playMove = false;
			});
			box.addEventListener('touchmove',function(e){
				
				//获取距离差
				moveX = e.targetTouches[0].pageX - startX;
				console.log(target);
				
				//第一页不可以向右滑动 用偏移量和  向右大于0来做判断
				if(Math.abs(target) <= 0 && moveX >= 0){
					return console.log('小');
					
				//第三页不可以向左滑动                 向左小于0
				}else if(Math.abs(target) >= 1960 && moveX <= 0){
					return console.log('大');
				}else{				
		   		    max.style.transition = 'none';
					max.style.marginLeft = moveX + target + 'px';
				}

				//阻止浏览器滚动
				e.preventDefault();
				
				//要确认用户滚动才进行下面end事件
				playMove = true;
			}) 
			
			box.addEventListener('touchend',function(e){
			
				if(playMove){
					if(Math.abs(moveX) > 100){
						
						if(moveX > 0){//上一张	
							index --;
							max.style.transition = 'all 0.3s';
							max.style.marginLeft = offwid * -index + 'px';
						}else{//下一张
							index ++;
							max.style.transition = 'all 0.3s';
							max.style.marginLeft = offwid * -index + 'px';
						}
					}else{
						index = index;
						max.style.transition = 'all 0.3s';
						max.style.marginLeft = offwid * -index + 'px';
					}
				}
			})
		</script>
	</body>
</html>
